# Git Workflow Helper

指定された一連のGit操作を実行します: $ARGUMENTS

サポートされる操作（カンマ区切りで指定）:
- `checkout` - 新しいブランチを作成して切り替え
- `add` - すべての変更をステージングに追加
- `commit` - ステージングされた変更をコミット
- `push` - コミットをリモートリポジトリにプッシュ
- `pr` - プルリクエストを作成

使用例:
- `/user:git-workflow add,commit,push` - 変更をステージング、コミット、プッシュ
- `/user:git-workflow checkout,add,commit,push` - 新しいブランチを作成し、変更をステージング、コミット、プッシュ
- `/user:git-workflow checkout,commit,push,pr` - 新しいブランチを作成し、コミット、プッシュ、PR作成まで実行

処理手順:
1. カンマ区切りの操作リストを解析
2. 各操作に対して:
   - `checkout`の場合、新しいブランチを作成して切り替え
   - `add`の場合、`git add .`ですべての変更をステージング
   - `commit`の場合、説明的なメッセージでコミットを作成
   - `push`の場合、変更をリモートリポジトリにプッシュ
   - `pr`の場合、GitHub CLIを使用してプルリクエストを作成
3. 各操作の成功を確認

このコマンドは必要に応じて追加情報を要求します:
- チェックアウト時のブランチ名
- コミットメッセージの内容
- PRのタイトルや説明

コミットメッセージとPR作成の規則:
- プロダクトのユーザーの言語（日本語または英語）で書く
- 先頭に変更タイプを含める（chore, feat, fix など）
- 簡潔で明確な説明を書く
- 変更内容（git diff）を分析し、適切なブランチ名やコミットメッセージを自動的に提案する

自動提案の活用:
- 新しいブランチ名の提案時には、変更されたファイルの種類や変更内容を考慮します
- コミットメッセージでは、変更の範囲や影響を分析し、適切な内容を提案します
- PRのタイトルと説明文には、全体的な変更の目的やユーザーへの影響を要約します
- 自動提案を編集・改善することも可能です

注意事項:
- 日本語や特殊文字を含むメッセージを使用する場合、以下のようにヒアドキュメントを使用します:
  ```
  git commit -m "$(cat <<'EOF'
  feat: 機能の追加
  
  🤖 Generated with [Claude Code](https://claude.ai/code)
  
  Co-Authored-By: Claude <noreply@anthropic.com>
  EOF
  )"
  ```
- PRの作成にもヒアドキュメントを使用すると安全です
- コマンドが失敗した場合は、個別のコマンド実行を試みてください